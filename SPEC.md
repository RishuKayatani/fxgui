# FXGUI Spec（正本）

本書はFXチャートアプリ（Rust/Tauri/React + fxlib）の全体要件を定義する正本です。
分割Specは `spec/` 配下に置き、重複は本書に集約します。

## 0. 目次 / 構成
- 1. 目的 / ビジョン
- 2. 対象ユーザー / 利用シーン
- 3. 主要ユースケース（3〜5）
- 4. UX優先順位
- 5. UI絶対条件
- 6. 制約
- 7. 成功指標
- 8. 用語/概念の定義
- 9. 対象外
- 10. 依存関係
- 11. リスク/不確実性
- 12. 想定ユーザーフロー（最短）
- 13. データ/権限/プライバシー方針
- 14. 非機能要件
- 15. 変更履歴
- 16. 判断主体ラベル
- 17. 機能決定ログ（人間主導）
- 18. LLM提案ログ（実装/データ設計）
- 19. Spec群の整合ルール

## 1. 目的 / ビジョン
- FXチャート分析を高速に行えるデスクトップアプリを提供する。
- `fxlib` をコアに据え、描画・分析・データ処理を一貫して高速化する。

## 2. 対象ユーザー / 利用シーン
- 対象ユーザー: 短期〜中期のFXトレーダー、チャート分析に時間を割く個人/小規模チーム。
- 利用シーン: 相場確認、テクニカル分析、過去検証、取引前の意思決定。

## 3. 主要ユースケース（3〜5）
1. 複数通貨ペアのチャートを素早く切り替えて確認する
2. インジケーターを追加/調整して分析する
3. 期間・足種を変更して過去の相場を検証する
4. 描画設定を保存/再利用する

## 4. UX優先順位
1. 最短で「見たいチャート」に到達できる
2. 操作の一貫性（設定・切替・保存の導線が統一されている）
3. 表示の即応性（操作に対する遅延が体感されない）

## 5. UI絶対条件
- 意図と形の一致（ボタン/パネル/チャート要素が意図通りに見える）
- 構造の可視性（階層/関連性が画面上で理解できる）
- 配置規則の一貫（同種操作は同位置・同形状）

## 6. 制約
- 技術: Rust + Tauri + React を前提。
- コア処理は `fxlib` を利用し、機能重複は避ける。
- オフラインでも最低限のチャート閲覧が可能であること。

## 7. 成功指標
- 初回起動からチャート表示までの平均時間
- 主要操作（時間足/通貨切替/インジ追加）の平均操作ステップ数
- 継続利用率（週次）

## 8. 用語/概念の定義
- Core: `fxlib` を中心とした分析/描画ロジック
- GUI: Tauri + React のUI層
- インジケーター: テクニカル指標（MA/RSI等）

## 9. 対象外
- 実取引の注文/発注機能
- ソーシャル/コミュニティ機能
- ブローカー口座連携

## 10. 依存関係
- `fxlib`（https://github.com/RishuKayatani/fxlib）
- Rust / Node.js / Tauri toolchain

## 11. リスク/不確実性
- `fxlib` 仕様変更への追従コスト
- 描画性能（大量データ表示時）
- OSごとのTauri挙動差

## 12. 想定ユーザーフロー（最短）
1. 起動
2. 通貨ペア選択
3. 期間・足種選択
4. チャート表示
5. インジケーター追加

## 13. データ/権限/プライバシー方針
- 最小権限で動作する（ローカル中心、外部送信は最小限）。
- ユーザー設定/レイアウトはローカル保存。
- 取得するデータソースは明示する。

## 14. 非機能要件
- 性能: 主要操作は体感遅延なし（目標: 100ms以内）
- 可用性: オフライン時も最低限の閲覧機能を維持
- セキュリティ: 外部通信はTLS、秘密情報の保存は最小化
- 運用: エラーログの取得とユーザー報告導線

## 15. 変更履歴
- 2026-01-28: 初版作成

## 16. 判断主体ラベル
- 人間決定: 機能定義/UX優先順位/対象外/成功指標
- LLM提案: データ設計/内部形式/実装詳細
- 共同確認: 非機能要件/制約/リスク

## 17. 機能決定ログ（人間主導）
- 未記載（ユーザーインタビュー結果を追記予定）

## 18. LLM提案ログ（実装/データ設計）
- 未記載（設計案が出次第、承認履歴を追記）

## 19. Spec群の整合ルール
- 詳細仕様は `spec/` 配下に分割する。
- 仕様の重複・衝突は本書（正本）で解決する。
- 変更時は必ず変更履歴に記録する。
